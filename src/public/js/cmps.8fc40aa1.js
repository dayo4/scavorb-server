(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cmps"],{"008b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Container",{attrs:{ownID:"MC-NewPosts",noSideNav:!1}},[n("div",{staticClass:"flex j-c-center wrap"},[n("div",{staticClass:"xs12 md9"},[n("Composer",{ref:"composer"})],1),n("div",{staticClass:"xs12 md3 px-6"},[n("button",{staticClass:"btn icon-picture my-8",on:{click:t.triggerImageTransformer}},[t._v("Add Featured Image")]),n("div",{staticClass:"t-blue-grey--2 mb-8"},[t._v("This is the main post image displayed at the top of the post page.")]),n("ImageTransformer",{ref:"imageTransformer",attrs:{fieldName:"featuredImage",cropWidth:600,cropHeight:350},on:{ready:t.addPostImage}}),n("div",{staticClass:"PostImage"},[t.postImageSrc?n("img",{ref:"postImage",attrs:{src:t.postImageSrc.match(/^data:/)?t.postImageSrc:t.$postBaseUrl+t.postImageSrc,alt:"post image"}}):t._e()]),n("hr"),n("div",{staticClass:"t-blue-grey--2 mt-10"},[t._v('You can save, edit and update your content all you want. Hit the "Publish" button whenever you are ready to go live with it.')]),n("button",{staticClass:"btn icon-publish my-9"},[t._v("PUBLISH")])],1)]),n("div",{staticClass:"Actions flex j-c-center noselect my-5"},[n("button",{ref:"saveBtn",staticClass:"icon-floppy btn cyan-gradient-btn",attrs:{id:"saveBtn"},on:{click:t.startProcessing}},[t._v(t._s(t.currentPost_id?"UPDATE":"SAVE NEW"))]),n("span",{ref:"previewBtn",staticClass:"btn cyan-gradient-btn",on:{click:function(e){return t.preview(t.currentPost_id)}}},[t._v("PREVIEW")])])])},s=[],i=(n("d3b7"),n("2b0e")),o=n("c152"),a=n("8205"),c=n("2112"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"Post_Title_Container px-5 pt-5 mb-0"},[n("div",{staticClass:"t-white bold-4 font-6"},[t._v("TITLE :")]),n("div",{ref:"titleInput",staticClass:"Post_Title bg-white br4 p-5",attrs:{contenteditable:"true",placeholder:"Enter Post Title"},on:{input:t.setTitle,paste:t.plainText}}),t.errors&&t.errors["Title"]?n("div",{staticClass:"font-3 p-1 bg-white t-red br1 ml-8",class:t.errors&&t.errors["Title"]?"vibrate":"",staticStyle:{width:"95%"}},[t._v("Error: "+t._s(t.showError("Title")))]):t._e(),n("div",{staticClass:"t-white bold-4 font-6"},[t._v("SLUG :")]),n("div",{ref:"slugInput",staticClass:"Post_Title bg-white br4 p-5",attrs:{contenteditable:"true",placeholder:"Enter Post Permalink"},on:{input:t.setSlug}})]),n("TextEditor",{attrs:{id:"main-ql-editor",initialContent:t.contentToEdit?t.contentToEdit.content:null,config:t.editorConfig,enableImage:!0},on:{contentUpdated:t.setContent}})],1)},u=[],d=(n("4de4"),n("4160"),n("a15b"),n("ac1f"),n("466d"),n("5319"),n("1276"),n("159b"),i["a"].extend({components:{TextEditor:function(){return n.e("txd").then(n.bind(null,"f426"))}},data:function(){return{title:"",slug:"",content:"",errors:null}},computed:{user:function(){return o["b"].user},editorConfig:function(){return o["f"].$compose.editorConfig},currentPost_id:function(){return o["f"].$compose.currentPost_id},contentToEdit:function(){return o["f"].$compose.contentToEdit}},methods:{setTitle:function(t){this.title=t.target.textContent,this.errors&&(this.errors["Title"]="")},setSlug:function(t){this.slug=t.target.textContent,this.errors&&(this.errors["Slug"]="")},setContent:function(t){this.content=t},showError:function(t){if(this.errors)return this.errors["Title"]},validate:function(){var t=[{fieldName:"Title",data:a["j"].sanitize(this.title),rules:{required:!0,min:10,max:100}},{fieldName:"Slug",data:a["j"].sanitize(this.slug),rules:{required:!0,min:5,max:100}},{fieldName:"Content",data:this.content,rules:{required:!0}}];return a["j"].validate(t)},init:function(){this.validate()&&a["g"].create("#saveBtn",{action:this.captureContentImages}),this.errors=a["j"].getErrors(),a["h"].abort(),this.errors["Content"]&&a["f"].error(this.errors["Content"]),this.errors["Slug"]&&a["f"].error(this.errors["Slug"])},captureContentImages:function(){a["h"].add("Intializing...");var t=document.getElementById("main-ql-editor"),e=t.getElementsByTagName("img"),n=Array.prototype.filter.call(e,(function(t){return t.src.match(/^data:/)}));if(n.length>0){var r=[];a["h"].add("Uploading Images...");var s=this;Array.prototype.forEach.call(n,(function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height),i.canvas.toBlob((function(e){var i=new File([e],"filename",{type:"image/jpeg"}),c=new FormData;c.append("contentImages",i),o["f"].$compose.uploadImages(c).then((function(e){if(e){var i=s.$postBaseUrl+e.imageUrl;t.src=i,r.push(e.imageUrl),r.length===n.length&&s.saveContent(r)}else r.length>0&&o["f"].$compose.removeImages(r),a["h"].abort()}))}),"image/jpeg")}))}else a["h"].add("Saving content..."),this.saveContent()},saveContent:function(t){this.currentPost_id?o["f"].$compose.update({title:this.title,slug:this.slug.replace(/\s{2,}/g," ").split(" ").join("-").toLowerCase(),content:this.content,contentImages:t}).then((function(){a["g"].destroy("#saveBtn")})):o["f"].$compose.newPost({title:this.title,slug:this.slug.replace(/\s{2,}/g," ").split(" ").join("-").toLowerCase(),content:this.content,contentImages:t}).then((function(){a["g"].destroy("#saveBtn")}))},plainText:function(t){a["c"].pasteAsPlainText(t)}},mounted:function(){this.contentToEdit&&(this.title=this.$refs.titleInput.textContent=this.contentToEdit.title,this.slug=this.$refs.slugInput.textContent=this.contentToEdit.slug)}})),f=d,m=(n("334d"),n("2877")),p=Object(m["a"])(f,l,u,!1,null,null,null),g=p.exports,h=i["a"].extend({components:{Container:c["a"],Composer:g,ImageTransformer:function(){return n.e("trfm").then(n.bind(null,"4e54"))}},computed:{currentPost_id:function(){return o["f"].$compose.currentPost_id},postImageSrc:function(){return o["f"].$compose.featuredImage.postImageSrc}},methods:{preview:function(t){if(t){var e=this.$router.resolve({path:"posts-preview/"+t});window.open(e.href,"_blank")}else a["f"].info("You have to Save content first before you can preview.")},triggerImageTransformer:function(){this.$refs.imageTransformer.trigger()},addPostImage:function(t,e){o["f"].$compose.setFeaturedImage({postImageSrc:e,formData:t})},startProcessing:function(){this.$refs.composer.init()}}}),v=h,b=(n("3688"),Object(m["a"])(v,r,s,!1,null,"71cd5f6e",null));e["default"]=b.exports},"18ee":function(t,e,n){},2112:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"GBLMContainer flex"},[n("div",{staticClass:"MC-ViewArea",class:t.MainCB?t.MainCB:t.noSideNav?"xs12 "+(["home"].includes(t.$route.name)?"":"padded"):"xs12 lg9",attrs:{id:t.ownID?t.ownID:""}},[t._t("default")],2),n("Footer")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{directives:[{name:"show",rawName:"v-show",value:!["user-profile","posts"].includes(t.$route.name),expression:"!['user-profile','posts'].includes($route.name)"}],staticClass:"Footer t-blue-grey text-center"},[t._m(0),n("div",{staticClass:"mt-4"},[n("router-link",{staticClass:"t-blue--3 no-deco",attrs:{to:"/privacy"}},[t._v("Privacy")])],1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"icon-copyright mr-4"},[t._v("2020 scavorb")])])}],a=n("2b0e"),c=n("c152"),l=a["a"].extend({computed:{scrolled:function(){return c["d"].$container.scrolled}}}),u=l,d=(n("f057"),n("2877")),f=Object(d["a"])(u,i,o,!1,null,"66cb1ed5",null),m=f.exports,p=a["a"].extend({components:{Footer:m},props:{noSideNav:{required:!1,type:Boolean,default:!0},ownID:{required:!1,type:String,default:!1},MainCB:{required:!1,type:String},SideCB:{required:!1,type:String}}}),g=p,h=(n("ce0b"),Object(d["a"])(g,r,s,!1,null,null,null));e["a"]=h.exports},"334d":function(t,e,n){"use strict";n("18ee")},3688:function(t,e,n){"use strict";n("6024")},6024:function(t,e,n){},"661b":function(t,e,n){},ce0b:function(t,e,n){"use strict";n("661b")},e067:function(t,e,n){},f057:function(t,e,n){"use strict";n("e067")}}]);