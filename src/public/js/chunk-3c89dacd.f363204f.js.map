{"version":3,"sources":["webpack:///./src/views/posts/Compose.vue?9730","webpack:///./src/components/posts/new/Composer.vue?01cb","webpack:///./src/components/posts/new/Composer.vue?479e","webpack:///./src/components/posts/new/Composer.vue?8e26","webpack:///./src/components/posts/new/Composer.vue","webpack:///./src/views/posts/Compose.vue?edcf","webpack:///./src/views/posts/Compose.vue?7949","webpack:///./src/views/posts/Compose.vue","webpack:///./src/components/navs/reusables/Container.vue?3f87","webpack:///./src/components/navs/reusables/Container.vue?0a79","webpack:///./src/components/navs/reusables/Container.vue?cb3b","webpack:///./src/components/navs/reusables/Container.vue","webpack:///./src/components/posts/new/Composer.vue?bd0d","webpack:///./src/components/navs/reusables/Container.vue?a6c6","webpack:///./src/views/posts/Compose.vue?8432"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","ref","on","triggerImageTransformer","_v","addPostImage","postImageSrc","match","$postBaseUrl","_e","startProcessing","_s","currentPost_id","$event","preview","staticRenderFns","setTitle","plainText","errors","class","staticStyle","showError","setSlug","contentToEdit","content","editorConfig","setContent","title","slug","$refs","titleInput","textContent","e","target","fieldName","schema","data","sanitize","rules","required","min","max","validate","create","action","captureContentImages","getErrors","abort","error","add","editor","document","getElementById","fetchedImages","getElementsByTagName","uploadables","Array","prototype","filter","call","img","src","length","imageUrlArray","_this","forEach","canvas","createElement","width","height","ctx","getContext","drawImage","toBlob","blob","file","File","type","formData","FormData","append","$compose","uploadImages","then","url","imageUrl","push","saveContent","removeImages","contentImages","update","split","join","toLowerCase","destroy","newPost","pasteAsPlainText","components","TextEditor","computed","user","component","post_id","$this","previewBtn","timer","showCountdown","route","$router","resolve","path","window","open","href","info","imageTransformer","trigger","base64Image","setFeaturedImage","composer","init","Container","Composer","ImageTransformer","featuredImage","MainCB","noSideNav","ownID","_t","SideCB","$container","element","ScrollingHandler","default"],"mappings":"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","file":"js/chunk-3c89dacd.f363204f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Container',{attrs:{\"ownID\":\"MC-NewPosts\",\"noSideNav\":true}},[_c('div',{staticClass:\"flex j-c-center wrap\"},[_c('div',{staticClass:\"xs12 md9\"},[_c('Composer',{ref:\"composer\"})],1),_c('div',{staticClass:\"xs12 md3 px-6\"},[_c('button',{staticClass:\"btn icon-picture my-8\",on:{\"click\":_vm.triggerImageTransformer}},[_vm._v(\"Add Featured Image\")]),_c('div',{staticClass:\"t-blue-grey--2 mb-8\"},[_vm._v(\"This is the main post image displayed at the top of the post page.\")]),_c('ImageTransformer',{ref:\"imageTransformer\",attrs:{\"fieldName\":\"featuredImage\",\"cropWidth\":1200,\"cropHeight\":600},on:{\"ready\":_vm.addPostImage}}),_c('div',{staticClass:\"PostImage\"},[(_vm.postImageSrc)?_c('img',{ref:\"postImage\",attrs:{\"src\":_vm.postImageSrc.match(/^data:/) ? _vm.postImageSrc : _vm.$postBaseUrl + _vm.postImageSrc,\"alt\":\"post image\"}}):_vm._e()]),_c('hr'),_c('div',{staticClass:\"t-blue-grey--2 mt-10\"},[_vm._v(\"You can save, edit and update your content all you want. Hit the \\\"Publish\\\" button whenever you are ready to go live with it.\")]),_c('button',{staticClass:\"btn icon-publish my-9\"},[_vm._v(\"PUBLISH\")])],1)]),_c('div',{staticClass:\"Actions flex j-c-center noselect my-5\"},[_c('button',{ref:\"saveBtn\",staticClass:\"icon-floppy btn cyan-gradient-btn\",attrs:{\"id\":\"saveBtn\"},on:{\"click\":_vm.startProcessing}},[_vm._v(_vm._s(_vm.currentPost_id ? 'UPDATE' : 'SAVE NEW'))]),_c('span',{ref:\"previewBtn\",staticClass:\"btn cyan-gradient-btn\",on:{\"click\":function($event){return _vm.preview(_vm.currentPost_id)}}},[_vm._v(\"PREVIEW\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"Post_Title_Container px-5 pt-5 mb-0\"},[_c('div',{staticClass:\"t-white bold-4 font-6\"},[_vm._v(\"TITLE :\")]),_c('div',{ref:\"titleInput\",staticClass:\"Post_Title bg-white br4 p-5\",attrs:{\"contenteditable\":\"true\",\"placeholder\":\"Enter Post Title\"},on:{\"input\":_vm.setTitle,\"paste\":_vm.plainText}}),(_vm.errors && _vm.errors['Title'])?_c('div',{staticClass:\"font-3 p-1 bg-white t-red br1 ml-8\",class:_vm.errors && _vm.errors['Title'] ? 'vibrate' : '',staticStyle:{\"width\":\"95%\"}},[_vm._v(\"Error: \"+_vm._s(_vm.showError('Title')))]):_vm._e(),_c('div',{staticClass:\"t-white bold-4 font-6\"},[_vm._v(\"SLUG :\")]),_c('div',{ref:\"slugInput\",staticClass:\"Post_Title bg-white br4 p-5\",attrs:{\"contenteditable\":\"true\",\"placeholder\":\"Enter Post Permalink\"},on:{\"input\":_vm.setSlug}})]),_c('TextEditor',{attrs:{\"id\":\"main-ql-editor\",\"initialContent\":_vm.contentToEdit ? _vm.contentToEdit.content : null,\"config\":_vm.editorConfig,\"enableImage\":true},on:{\"contentUpdated\":_vm.setContent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { $Auth, $Posts } from '@/myStore'\r\nimport { $Process, $Notify, $Obstacle, $Validator, $General } from '@/plugins'\r\n\r\nimport { Component, Vue, Prop } from \"vue-property-decorator\"\r\n\r\n@Component({\r\n    components: {\r\n        TextEditor: () => import('@/components/GlobalComponents/utils/TextEditor.vue')\r\n    },\r\n    // beforeRouteEnter(to, from, next) {\r\n    // \tnext(vm => {\r\n    // \t\tif (to.query.mode === 'edit')\t\t\t\t{\r\n    // \t\t\tvm.$data.mode = to.query.mode\r\n    // \t\t}\r\n    // \t})\r\n    // },\r\n\r\n    computed: {\r\n        user: () => $Auth.user,\r\n        editorConfig: () => $Posts.$compose.editorConfig,\r\n        /* These bellow only matter when editing or updating existing posts. Otherwise they'll be null */\r\n        currentPost_id: () => $Posts.$compose.currentPost_id,\r\n        contentToEdit: () => $Posts.$compose.contentToEdit,\r\n    },\r\n})\r\n\r\nexport default class Composer extends Vue {\r\n    /* THIS COMPONENT IS USED FOR BOTH EDITING AND CREATING NEW POSTS. */\r\n    user!: any\r\n    currentPost_id!: string\r\n    contentToEdit!: any /* object */\r\n\r\n    $refs!: {\r\n        titleInput: any\r\n        slugInput: any\r\n    }\r\n\r\n    /* instance properties */\r\n    // initialContent: string = this.contentToEdit.content || '' /* Only useful when editing existing post */\r\n    title: string = ''\r\n    slug: string = ''\r\n    content: string = ''\r\n    errors: object = null\r\n    // mode: string = 'compose'\r\n\r\n    /* lifecycle hooks */\r\n    mounted () {\r\n        if (this.contentToEdit)\r\n        {\r\n            this.title = this.$refs.titleInput.textContent = this.contentToEdit.title\r\n        }\r\n    }\r\n\r\n    /* instance methods */\r\n    setTitle (e: any) {\r\n        this.title = e.target.textContent\r\n        if (this.errors)\r\n        {\r\n            this.errors[ 'Title' ] = ''\r\n        }\r\n    }\r\n    setSlug (e: any) {\r\n        this.slug = e.target.textContent\r\n        if (this.errors)\r\n        {\r\n            this.errors[ 'Slug' ] = ''\r\n        }\r\n    }\r\n    setContent (content: string) {\r\n        this.content = content\r\n    }\r\n\r\n    showError (fieldName: string) {\r\n        if (this.errors)\r\n        {\r\n            return this.errors[ 'Title' ]\r\n        }\r\n    }\r\n\r\n    validate () {\r\n        const schema = [\r\n            {\r\n                fieldName: 'Title',\r\n                data: $Validator.sanitize(this.title),\r\n                rules: {\r\n                    required: true,\r\n                    min: 10,\r\n                    max: 100\r\n                },\r\n            },\r\n            {\r\n                fieldName: 'Slug',\r\n                data: $Validator.sanitize(this.slug),\r\n                rules: {\r\n                    required: true,\r\n                    min: 5,\r\n                    max: 100\r\n                },\r\n            },\r\n            {\r\n                fieldName: 'Content',\r\n                data: this.content,\r\n                rules: {\r\n                    required: true,\r\n                },\r\n            }\r\n        ]\r\n        return $Validator.validate(schema)\r\n    }\r\n\r\n    init () {\r\n        if (this.validate())\r\n        {\r\n            $Obstacle.create('#saveBtn', {\r\n                action: this.captureContentImages,\r\n            })\r\n\r\n        }\r\n        this.errors = $Validator.getErrors()\r\n\r\n        $Process.abort()\r\n\r\n        if (this.errors[ 'Content' ])\r\n        {\r\n            $Notify.error(this.errors[ 'Content' ])\r\n        }\r\n        if (this.errors[ 'Slug' ])\r\n        {\r\n            $Notify.error(this.errors[ 'Slug' ])\r\n        }\r\n    }\r\n    captureContentImages () {\r\n        /* Before content is saved. convert all base64 image src to \"file\"... */\r\n        $Process.add('Intializing...')\r\n        const editor = document.getElementById('main-ql-editor')\r\n        const fetchedImages = editor.getElementsByTagName('img')\r\n        const uploadables = Array.prototype.filter.call(fetchedImages, function (img) {\r\n            return img.src.match(/^data:/)\r\n        })\r\n\r\n        if (uploadables.length > 0)\r\n        {\r\n            // console.log(uploadables)\r\n            let imageUrlArray: Array<string> = []\r\n            $Process.add('Uploading Images...')\r\n            let _this = this\r\n            Array.prototype.forEach.call(uploadables, function (img: HTMLImageElement) {\r\n\r\n                const canvas = document.createElement('canvas')\r\n                canvas.width = img.width\r\n                canvas.height = img.height\r\n                const ctx = canvas.getContext('2d')\r\n                ctx.drawImage(img, 0, 0, img.width, img.height)\r\n\r\n                ctx.canvas.toBlob((blob) => {\r\n                    const file = new File([ blob ], 'filename', {\r\n                        type: \"image/jpeg\",\r\n                    })\r\n                    // console.log(file)\r\n                    // imgArray.push(filename)\r\n                    const formData = new FormData()\r\n                    formData.append('contentImages', file)\r\n\r\n                    $Posts.$compose.uploadImages(formData).then((data) => {\r\n                        if (data)\r\n                        {\r\n                            // console.log(data)\r\n                            const url = _this.$postBaseUrl + data.imageUrl  //${ this.user.id }/${ filename }.jpeg`\t\t{\r\n                            img.src = url\r\n                            imageUrlArray.push(data.imageUrl)\r\n                            // console.log(img)\r\n                            if (imageUrlArray.length === uploadables.length)\r\n                            {\r\n\r\n                                _this.saveContent(imageUrlArray)\r\n                            }\r\n                        } else\r\n                        {\r\n                            imageUrlArray.length > 0 ? $Posts.$compose.removeImages(imageUrlArray) : null\r\n\r\n                            $Process.abort()\r\n                        }\r\n                    })\r\n                }, 'image/jpeg')\r\n            })\r\n        } else\r\n        {\r\n            $Process.add('Saving content...')\r\n            this.saveContent()\r\n        }\r\n\r\n    }\r\n\r\n    saveContent (contentImages?: any) {\r\n        // console.log(contentImages)\r\n\r\n        if (!this.currentPost_id)\r\n        {\r\n            $Posts.$compose.newPost({\r\n                title: this.title,\r\n                slug: this.slug.split(' ').join('-').toLowerCase(),\r\n                content: this.content,\r\n                contentImages\r\n            }).then(() => {\r\n                $Obstacle.destroy('#saveBtn')\r\n            })\r\n        } else\r\n        {\r\n            $Posts.$compose.update({\r\n                title: this.title,\r\n                slug: this.slug.split(' ').join('-').toLowerCase(),\r\n                content: this.content,\r\n                contentImages\r\n            }).then(() => {\r\n                $Obstacle.destroy('#saveBtn')\r\n            })\r\n        }\r\n\r\n    }\r\n    plainText (e: ClipboardEvent) {\r\n        $General.pasteAsPlainText(e)\r\n    }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Composer.vue?vue&type=template&id=8c215e8c&\"\nimport script from \"./Composer.vue?vue&type=script&lang=ts&\"\nexport * from \"./Composer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Composer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\"\r\n\r\nimport { $Posts } from \"@/myStore\"\r\nimport { $Notify, $Obstacle } from \"@/plugins\"\r\n\r\nimport Container from '@/components/navs/reusables/Container.vue'\r\nimport Composer from \"@/components/posts/new/Composer.vue\"\r\n\r\n@Component({\r\n    components: {\r\n        Container,\r\n        Composer,\r\n        ImageTransformer: () => import(\"@/components/uploads/ImageTransformer.vue\"),\r\n    },\r\n    computed: {\r\n        currentPost_id: () => $Posts.$compose.currentPost_id,\r\n        postImageSrc: () => $Posts.$compose.featuredImage.postImageSrc\r\n    },\r\n})\r\nexport default class Compose extends Vue {\r\n    postImageSrc!: any\r\n    $refs!: {\r\n        composer\r\n        imageTransformer\r\n        postImage: HTMLImageElement\r\n\r\n        saveBtn\r\n        previewBtn\r\n    }\r\n\r\n    preview (post_id) {\r\n        let $this = this\r\n\r\n        $Obstacle.create(this.$refs.previewBtn, {\r\n            timer: 10000,\r\n            showCountdown: true,\r\n            action: function () {\r\n                if (!post_id)\r\n                {\r\n                    $Notify.info('You have to Save content first before you can preview.')\r\n                    return\r\n                }\r\n                else\r\n                {\r\n                    let route = $this.$router.resolve({ path: 'posts/' + post_id })\r\n                    window.open(route.href, '_blank')\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    triggerImageTransformer () {\r\n        this.$refs.imageTransformer.trigger()\r\n    }\r\n\r\n    addPostImage (formData, base64Image) {\r\n        $Posts.$compose.setFeaturedImage({\r\n            postImageSrc: base64Image,\r\n            formData\r\n        })\r\n    }\r\n\r\n    startProcessing () {\r\n        // $Obstacle.create(this.$refs.saveBtn, {\r\n        // timer: 4000,\r\n        this.$refs.composer.init()\r\n        // })\r\n\r\n    }\r\n\r\n\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compose.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compose.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Compose.vue?vue&type=template&id=92b836a4&scoped=true&\"\nimport script from \"./Compose.vue?vue&type=script&lang=ts&\"\nexport * from \"./Compose.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Compose.vue?vue&type=style&index=0&id=92b836a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92b836a4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"GBLMContainer flex\"},[_c('div',{staticClass:\"MC-ViewArea\",class:_vm.MainCB ? _vm.MainCB : (\"\" + (_vm.noSideNav ? 'xs12' : 'xs12 lg9')),attrs:{\"id\":_vm.ownID?_vm.ownID:''}},[_vm._t(\"default\")],2),(!_vm.noSideNav)?_c('div',{staticClass:\"hide-lg-down\",class:_vm.SideCB ? _vm.SideCB : 'md3'},[_vm._t(\"SideNav\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from \"vue-property-decorator\"\r\nimport { $Navs } from '@/myStore'\r\n\r\n@Component({\r\n\r\n})\r\nexport default class GBLMContainer extends Vue {\r\n    // $ref!: {\r\n    // \tContainer: HTMLElement\r\n    // }\r\n    @Prop({ required: false, default: false }) noSideNav: boolean\r\n    @Prop({ required: false, default: false }) ownID: string\r\n    /* additional special classname binding for the slots if necessary */\r\n    @Prop({ required: false, }) readonly MainCB /* Main_class_binding */: string  /* Good for passing custom class names to the inner components for custom styling. */\r\n    @Prop({ required: false, }) readonly SideCB /* Side_class_binding */: string\r\n\r\n    mounted () {\r\n        $Navs.$container.element = document.getElementById(this.ownID)\r\n        $Navs.$container.ScrollingHandler()\r\n    }\r\n\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Container.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Container.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Container.vue?vue&type=template&id=1f1b2e82&\"\nimport script from \"./Container.vue?vue&type=script&lang=ts&\"\nexport * from \"./Container.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Container.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Container.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Container.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compose.vue?vue&type=style&index=0&id=92b836a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Compose.vue?vue&type=style&index=0&id=92b836a4&lang=scss&scoped=true&\""],"sourceRoot":""}