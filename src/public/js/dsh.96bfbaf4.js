(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dsh"],{"0a6e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Container",{attrs:{ownID:"MC-Adm",noSideNav:!1}},[s("div",{staticClass:"MainView flex wrap j-c-center pl-4"},[s("keep-alive",[s(t.activeTab,{tag:"component"})],1)],1),s("VerticalNavigator",{attrs:{tabsList:t.tabsList,activeTab:t.activeTab},on:{tabClicked:t.switchTab}})],1)},i=[],a=s("2b0e"),r=s("11da"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Tab xs12"},[s("HorizontalNavigator",{attrs:{tabsList:t.tabsList,activeTab:t.subActiveTab},on:{tabClicked:t.switchTab}}),s("div",{staticClass:"SubTabs flex j-c-center w-full"},[s("User",{attrs:{activeTab:t.subActiveTab}})],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Nav shadow-2 flex a-i-center noselect"},t._l(t.tabsList,(function(e){return s("div",{key:e.id,staticClass:"flex j-c-center",class:t.activeTab=="Tab-"+e.id?"active":"",on:{click:function(s){return t.$emit("tabClicked",e.id)}}},[s("span",{staticClass:"font-6 mr-4",class:e.icon}),s("span",[t._v(t._s(e.name))])])})),0)},u=[],d=a["a"].extend({props:{tabsList:{required:!0,type:Array},activeTab:{required:!0,type:String}}}),f=d,p=(s("ae63"),s("2877")),b=Object(p["a"])(f,l,u,!1,null,"3f3deeec",null),h=b.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:"Tab-1"===t.activeTab,expression:"activeTab === 'Tab-1'"}],staticClass:"Tab xs12"},[s("h2",{staticClass:"text-center t-blue-grey--1"},[t._v("Manage Users")]),s("transition",{attrs:{name:"slide-fade"}},[t.selectedUser?t._e():s("section",{staticClass:"UsersBox"},[s("section",{staticClass:"SearchBox flex pl-4 a-i-center shadow-6"},[s("input",{staticClass:"grow",attrs:{type:"search",placeholder:"Search for users..."}}),s("span",{staticClass:"SearchIcon icon-search-2 flex a-i-center font-6 px-5"})]),s("section",{staticClass:"CustSort noselect"},[s("Dropdown",{staticClass:"Options icon-search-2 btn",attrs:{ownID:"pages",text:"Filter: "+t.filter,pos:{type:"relative",top:7,left:5},optPos:{left:30}},scopedSlots:t._u([{key:"default",fn:function(){return[s("a",{on:{click:function(e){return t.filterBy("All Users",{})}}},[t._v("All Users")]),s("a",{on:{click:function(e){return t.filterBy("Active",{active:!0})}}},[t._v("Active")]),s("a",{on:{click:function(e){return t.filterBy("Inactive",{active:!1})}}},[t._v("Inactive")]),s("a",{on:{click:function(e){return t.filterBy("Blacklisted",{blacklisted:!0})}}},[t._v("Blacklisted")])]},proxy:!0}],null,!1,4091911377)}),s("Dropdown",{staticClass:"Options icon-sort-alt-up btn",attrs:{ownID:"PostSort",text:"Sort By: "+t.sort,pos:{type:"relative",top:7,right:5}},scopedSlots:t._u([{key:"default",fn:function(){return[s("a",{on:{click:function(e){return t.sortBy("Newest","desc")}}},[t._v("Newest")]),s("a",{on:{click:function(e){return t.sortBy("Oldest","asc")}}},[t._v("Oldest")])]},proxy:!0}],null,!1,2537303410)})],1),s("section",[s("h4",{staticClass:"Head bg-gradient-2 flex a-i-center j-c-between noselect"},[s("div",{staticClass:"font-6 ml-2 mt-1 pb-1"},[t._v(" USERS "),s("span",{staticClass:"bg-white t-cyan--2 br2 ml-2 px-1"},[t._v(t._s(t.count))])]),s("span",{staticClass:"icon-ellipsis-vert"})]),s("div",{staticClass:"Body"},t._l(t.users,(function(e){return s("div",{key:e.id,staticClass:"flex a-i-center"},[s("img",{staticClass:"mr-3 cursor-pointer",attrs:{src:t.$userBaseUrl+e.profile_image,alt:e.username,width:"50",height:"50"},on:{click:function(s){return t.openUser(e.id)}}}),s("span",{staticClass:"grow"},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),s("Dropdown",{staticClass:"Dropdomn icon-ellipsis-vert shadow-0 btn t-grey--1 bg-grey-2 font-10",staticStyle:{width:"30px"},attrs:{ownID:e.id,pos:{type:"relative",top:0,right:5},optPos:{right:40}},scopedSlots:t._u([{key:"default",fn:function(){return[s("a",{on:{click:function(s){return t.openUser(e.id)}}},[s("span",{staticClass:"icon-eye"}),s("span",[t._v("Open")])]),s("router-link",{attrs:{to:{name:"user-profile",params:{username:e.username}},target:"_blank"}},[s("span",{staticClass:"icon-user"}),s("span",[t._v("View Profile")])])]},proxy:!0}],null,!0)})],1)})),0)])])]),s("transition",{attrs:{name:"slide-fade"}},[t.selectedUser?s("ViewUser",{attrs:{user:t.selectedUser},on:{closeUser:t.closeUser,refresh:t.openUser}}):t._e()],1)],1)},m=[],g=(s("4de4"),s("d3b7"),s("c152")),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",[s("h3",{staticClass:"Head flex a-i-center j-c-between shadow-1 bg-pink-1 t-white font-7 p-2 noselect br2"},[s("span",{staticClass:"Header text-up font-5"},[t._v("User Details")]),s("div",{staticClass:"Actions flex"},[s("div",{staticClass:"labeled-action",on:{click:function(e){return t.$emit("closeUser")}}},[s("span",{staticClass:"icon-left-open-big font-10"}),s("span",[t._v("Back")])]),s("Dropdown",{staticClass:"Dropdomn icon-ellipsis-vert shadow-0 btn t-white bg-blue-grey font-10",staticStyle:{width:"30px"},attrs:{ownID:t.user.id,pos:{type:"relative",top:6,right:0},optPos:{right:40}},scopedSlots:t._u([{key:"default",fn:function(){return[s("router-link",{attrs:{to:{name:"user-profile",params:{username:t.user.username}},target:"_blank"}},[s("span",{staticClass:"icon-user"}),s("span",[t._v("View Profile")])]),s("a",{on:{click:function(e){return t.changeAccess(t.user.id)}}},[s("span",{staticClass:"icon-ccw"}),s("span",[t._v("Change Access")])]),s("a",{on:{click:function(e){t.modal=!0}}},[s("span",{staticClass:"icon-recycle"}),s("span",[t._v("Change Account Status")])]),t.isSAdmin?s("a",{on:{click:function(e){return t.del(t.user.id)}}},[s("span",{staticClass:"icon-trash-empty t-red"}),s("span",[t._v("Delete")])]):t._e()]},proxy:!0}])})],1)]),s("div",{staticClass:"Body t-blue-grey"},[s("img",{staticClass:"mr-6",attrs:{src:t.$userBaseUrl+t.user.profile_image,alt:t.user.username,width:"150",height:"150"}}),s("div",{staticClass:"Details ml-10 pl-5"},t._l(t.user,(function(e,n,i){return s("div",{key:i,staticClass:"mb-4"},["history"!==n?s("div",[s("span",{staticClass:"font-6 bold-4"},[t._v(t._s(n)+":")]),s("span",{staticClass:"font-5 bold-2"},[t._v(t._s(" "+e))])]):t._e()])})),0)])]),s("section",{staticClass:"History"},[s("h2",{staticClass:"text-center t-blue-grey--1 ml-10 pl-5"},[t._v("User's Account Status History")]),t._l(t.user.history,(function(e,n){return s("div",{key:n,staticClass:"my-2 py-2"},[s("h3",{},[t._v(t._s(e.type))]),s("div",[t._v(t._s(t.$moment(e.created_at).format("llll")))]),s("div",[t._v(t._s(e.reason))])])}))],2),s("AccStatusUpdate",{attrs:{user:t.user,show:t.modal},on:{close:t.closeModal}})],1)},y=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{condition:t.show,minHeight:200,RCB:"icon-check-1"},on:{close:t.close,action:t.submit},scopedSlots:t._u([{key:"heading",fn:function(){return[t._v("Change Account Status")]},proxy:!0},{key:"default",fn:function(){return[s("Dropdown",{staticClass:"Dropdomn icon-down-open btn t-white bg-trans-3 font-6 p-4",attrs:{ownID:t.user.id,text:t.action?t.action:"Choose An Action",pos:{top:0,right:0}},scopedSlots:t._u([{key:"default",fn:function(){return[t.user.active?t._e():s("a",[s("span",{on:{click:function(e){return t.setAction("Activate")}}},[t._v("Activate")])]),t.user.active?s("a",[s("span",{on:{click:function(e){return t.setAction("Deactivate")}}},[t._v("Deactivate")])]):t._e(),t.user.blacklisted?t._e():s("a",[s("span",{on:{click:function(e){return t.setAction("Blacklist")}}},[t._v("Blacklist")])]),t.user.blacklisted?s("a",[s("span",{on:{click:function(e){return t.setAction("Unblacklist")}}},[t._v("Unblacklist")])]):t._e()]},proxy:!0}])}),s("h4",{staticClass:"t-grey font-5 bold-4 mb-0 mt-3"},[t._v("Enter a Reason for the action:")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"font-3 p-2 mb-1 bg-white t-red br1"},[t._v("Error: "+t._s(t.error))]),s("div",{staticClass:"bg-white font-5 br2 p-7",staticStyle:{"min-height":"145px","border-left":"solid grey 2px"},attrs:{contenteditable:"true",placeholder:"Enter your reason"},on:{input:t.setReason}})]},proxy:!0}])})},w=[],x=s("7004"),k=s("8205"),A=a["a"].extend({components:{Modal:x["a"],Dropdown:function(){return s.e("chunk-c797e606").then(s.bind(null,"5c81"))}},props:{show:{required:!0,type:Boolean},user:{required:!0,type:Object}},data:function(){return{error:"",reason:"",action:""}},methods:{close:function(t){this.$emit("close",!!t||""),this.action="",this.reason=""},setReason:function(t){this.reason=t.target.textContent,this.error&&(this.error="")},setAction:function(t){this.action=t},validate:function(){var t=[{fieldName:"Reason",data:this.reason,rules:{required:!0,string:!0,min:20,max:500}},{fieldName:"Action",data:this.action,rules:{required:!0,string:!0}}];return k["j"].validate(t)},submit:function(){var t=this,e={user_id:this.user.id,actor_id:g["b"].user.id,action:this.action,reason:this.reason};this.validate()&&Object(k["b"])({header:"Confirm your action",message:'<b class="t-grey--2">Are You Sure You Want To '.concat(this.action," This Account?</b>"),type:"info",onConfirm:function(){return g["a"].$users.changeStatus(e).then((function(e){if(e)return t.close(!0),e}))}}),this.error=k["j"].getErrors({format:"single"})}}}),S=A,T=Object(p["a"])(S,C,w,!1,null,null,null),B=T.exports,N=a["a"].extend({components:{AccStatusUpdate:B,Dropdown:function(){return s.e("chunk-c797e606").then(s.bind(null,"5c81"))}},data:function(){return{modal:!1}},props:{user:{required:!0,type:Object}},computed:{isSAdmin:function(){return g["b"].isSAdmin}},methods:{closeModal:function(t){this.modal=!1,t&&this.$emit("refresh",this.user.id)},del:function(t){var e=this;this.isSAdmin&&Object(k["b"])({header:"Delete Account",message:"<b>Confirm?</b>",type:"danger",onConfirm:function(){return g["a"].$users.delete(t).then((function(t){if(t)return e.$emit("closeUser",!0),!0}))}})},changeAccess:function(){}}}),$=N,U=(s("44ef"),Object(p["a"])($,_,y,!1,null,"be517a74",null)),I=U.exports,E=a["a"].extend({components:{ViewUser:I,Dropdown:function(){return s.e("chunk-c797e606").then(s.bind(null,"5c81"))}},props:{activeTab:{required:!0,type:String}},data:function(){return{selectedUser:null,filter:"All Users",sort:"Newest",query:{limit:40,filter:{},sort:["created_at","desc"]}}},computed:{users:function(){return g["a"].$users.users},count:function(){return g["a"].$users.count}},methods:{filterBy:function(t,e){this.query.filter=e,this.filter=t,g["a"].$users.fetchAll(this.query,!0)},sortBy:function(t,e){this.query.sort[1]=e,this.sort=t,g["a"].$users.fetchAll(this.query,!0)},openUser:function(t){var e=this;g["a"].$users.fetch(t).then((function(t){t&&(e.selectedUser=t)}))},closeUser:function(t){this.selectedUser=null,t&&g["a"].$users.fetchAll(this.query,!0)}},mounted:function(){g["a"].$users.fetchAll(this.query,!0)}}),q=E,j=(s("d606"),Object(p["a"])(q,v,m,!1,null,"db7ca83a",null)),D=j.exports,O=a["a"].extend({components:{User:D,HorizontalNavigator:h},data:function(){return{subActiveTab:"Tab-1",tabsList:[{id:1,name:"Users",icon:"icon-users-1"},{id:2,name:"Settings",icon:"icon-cog-1"},{id:3,name:"Privilege",icon:"icon-angle-double-up"},{id:4,name:"Reports",icon:"icon-thumbs-down-alt"}]}},methods:{switchTab:function(t){this.subActiveTab="Tab-"+t}}}),R=O,H=(s("98f3"),Object(p["a"])(R,c,o,!1,null,"0c689016",null)),M=H.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Tab xs12"},[s("h2",{staticClass:"text-center t-blue-grey--1"},[t._v("System Settings")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.allowReg,expression:"allowReg"}],attrs:{type:"checkbox",id:"n"},domProps:{checked:Array.isArray(t.allowReg)?t._i(t.allowReg,null)>-1:t.allowReg},on:{change:function(e){var s=t.allowReg,n=e.target,i=!!n.checked;if(Array.isArray(s)){var a=null,r=t._i(s,a);n.checked?r<0&&(t.allowReg=s.concat([a])):r>-1&&(t.allowReg=s.slice(0,r).concat(s.slice(r+1)))}else t.allowReg=i}}}),s("label",{attrs:{for:"n"}},[t._v("Allow new user registeration")]),s("button",{staticClass:"bg-pink--3 mt-10 btn",on:{click:t.saveChanges}},[t._v("Save Settings")])])},V=[],F=a["a"].extend({data:function(){return{allowReg:null}},computed:{isSAdmin:function(){return g["b"].isSAdmin},settings:function(){return g["b"].sysSettings}},methods:{saveChanges:function(){var t=this;this.isSAdmin&&Object(k["b"])({header:"Save Settings",message:"<b>Confirm?</b>",type:"info",onConfirm:function(){return g["a"].$system.update({allow_new_reg:t.allowReg}).then((function(t){if(t)return g["b"].getSysSettings(),t}))}})}},mounted:function(){this.allowReg=this.settings.allow_new_reg}}),P=F,G=(s("bcd3"),Object(p["a"])(P,L,V,!1,null,"777bec65",null)),Y=G.exports,z=s("2112"),J=a["a"].extend({components:{VerticalNavigator:r["a"],Container:z["a"],Tab_1:M,Tab_2:Y},data:function(){return{activeTab:"Tab_1",tabsList:[{id:1,name:"Manage Users",icon:"icon-users-1"},{id:2,name:"System Settings",icon:"icon-cog-1"}]}},methods:{switchTab:function(t){this.activeTab="Tab_"+t}}}),X=J,K=(s("94da"),Object(p["a"])(X,n,i,!1,null,"63a8eb3b",null));e["default"]=K.exports},"11da":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Nav shadow-2 md3 lg3 noselect",class:t.collapsed?"Collapsed":""},[t._l(t.tabsList,(function(e){return s("div",{key:e.id,class:t.activeTab=="Tab_"+e.id?"active":"",on:{click:function(s){return t.$emit("tabClicked",e.id)}}},[s("span",{staticClass:"font-6 mr-4",class:e.icon}),s("span",[t._v(t._s(e.name))])])})),s("span",{staticClass:"Handle shadow-4 b1 br2 font-6 t-white bg-blue-grey--2",class:t.collapsed?"icon-left-big":" icon-right-big",on:{click:function(e){t.collapsed=!t.collapsed}}})],2)},i=[],a=s("2b0e"),r=a["a"].extend({props:{tabsList:{required:!0,type:Array},activeTab:{required:!0,type:String}},data:function(){return{collapsed:!0}}}),c=r,o=(s("1a55"),s("2877")),l=Object(o["a"])(c,n,i,!1,null,"37de4ca4",null);e["a"]=l.exports},"1a55":function(t,e,s){"use strict";s("67d9")},2112:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"GBLMContainer flex"},[s("div",{staticClass:"MC-ViewArea",class:t.MainCB?t.MainCB:t.noSideNav?"xs12 "+(["home"].includes(t.$route.name)?"":"padded"):"xs12 lg9",attrs:{id:t.ownID?t.ownID:""}},[t._t("default")],2),s("Footer")],1)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{directives:[{name:"show",rawName:"v-show",value:!["user-profile","posts"].includes(t.$route.name),expression:"!['user-profile','posts'].includes($route.name)"}],staticClass:"Footer t-blue-grey text-center"},[t._m(0),s("div",{staticClass:"mt-4"},[s("router-link",{staticClass:"t-blue--3 no-deco",attrs:{to:"/privacy"}},[t._v("Privacy")])],1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"icon-copyright mr-4"},[t._v("2020 scavorb")])])}],c=s("2b0e"),o=s("c152"),l=c["a"].extend({computed:{scrolled:function(){return o["d"].$container.scrolled}}}),u=l,d=(s("f057"),s("2877")),f=Object(d["a"])(u,a,r,!1,null,"66cb1ed5",null),p=f.exports,b=c["a"].extend({components:{Footer:p},props:{noSideNav:{required:!1,type:Boolean,default:!0},ownID:{required:!1,type:String,default:!1},MainCB:{required:!1,type:String},SideCB:{required:!1,type:String}}}),h=b,v=(s("ce0b"),Object(d["a"])(h,n,i,!1,null,null,null));e["a"]=v.exports},2291:function(t,e,s){},"2b63":function(t,e,s){},"44ef":function(t,e,s){"use strict";s("75a3")},4685:function(t,e,s){},"661b":function(t,e,s){},"67d9":function(t,e,s){},7004:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-fade"}},[t.condition?s("div",{staticClass:"GlobalModal modal flex a-i-center j-c-center"},[s("div",{staticClass:"Content xs12 sm8 md6 pl-2"},[s("h3",{staticClass:"Head flex a-i-center j-c-between font-7 p-4 my-0 noselect",class:t.HCB?t.HCB:"bg-white t-blue-grey"},[s("span",{staticClass:"Header text-up"},[t._t("heading")],2),s("div",{staticClass:"labeled-action",on:{click:function(e){return t.$emit("close")}}},[s("span",{staticClass:"icon-off t-pink-2"}),s("span",[t._v("Close")])])]),s("hr"),s("div",{staticClass:"Body bg-white p-2 mb-0 br1",style:(t.minHeight?"min-height:"+t.minHeight+"px;":"")+" "+(t.maxHeight?"max-height:"+t.maxHeight+"px":"")},[t._t("default")],2),s("hr"),s("div",{staticClass:"Foot bg-white noselect flex a-i-center j-c-center p-4"},[s("button",{staticClass:"btn cyan-gradient-btn",class:t.LCB?t.LCB:"icon-cancel",on:{click:function(e){return t.$emit("close")}}},[t._t("leftBtn",[t._v("Close")])],2),s("button",{staticClass:"btn pink-gradient-btn",class:t.RCB?t.RCB:"icon-hammer",on:{click:function(e){return t.$emit("action")}}},[t._t("rightBtn",[t._v("OK")])],2)])])]):t._e()])},i=[],a=(s("a9e3"),s("2b0e")),r=a["a"].extend({props:{condition:{required:!0},minHeight:{required:!1,type:Number},maxHeight:{required:!1,type:Number},HCB:{required:!1,type:String},LCB:{required:!1,type:String},RCB:{required:!1,type:String}}}),c=r,o=(s("f608"),s("2877")),l=Object(o["a"])(c,n,i,!1,null,null,null);e["a"]=l.exports},7156:function(t,e,s){var n=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var a,r;return i&&"function"==typeof(a=e.constructor)&&a!==s&&n(r=a.prototype)&&r!==s.prototype&&i(t,r),t}},"75a3":function(t,e,s){},"94da":function(t,e,s){"use strict";s("cd0e")},"98f3":function(t,e,s){"use strict";s("feeb")},a9e3:function(t,e,s){"use strict";var n=s("83ab"),i=s("da84"),a=s("94ca"),r=s("6eeb"),c=s("5135"),o=s("c6b6"),l=s("7156"),u=s("c04e"),d=s("d039"),f=s("7c73"),p=s("241c").f,b=s("06cf").f,h=s("9bf2").f,v=s("58a8").trim,m="Number",g=i[m],_=g.prototype,y=o(f(_))==m,C=function(t){var e,s,n,i,a,r,c,o,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(s=l.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(a=l.slice(2),r=a.length,c=0;c<r;c++)if(o=a.charCodeAt(c),o<48||o>i)return NaN;return parseInt(a,n)}return+l};if(a(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof x&&(y?d((function(){_.valueOf.call(s)})):o(s)!=m)?l(new g(C(e)),s,x):C(e)},k=n?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)c(g,w=k[A])&&!c(x,w)&&h(x,w,b(g,w));x.prototype=_,_.constructor=x,r(i,m,x)}},ae63:function(t,e,s){"use strict";s("2b63")},b785:function(t,e,s){},bcd3:function(t,e,s){"use strict";s("b785")},cd0e:function(t,e,s){},ce0b:function(t,e,s){"use strict";s("661b")},d606:function(t,e,s){"use strict";s("2291")},e067:function(t,e,s){},f057:function(t,e,s){"use strict";s("e067")},f608:function(t,e,s){"use strict";s("4685")},feeb:function(t,e,s){}}]);